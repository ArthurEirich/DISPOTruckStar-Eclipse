<!DOCTYPE HTML>
<html lang="de-DE"> <!-- manifest="DISPOTruckStar.manifest" -- UNBEDINGT WIEDER EINSCHALTEN!!!!!!!!!!! -->
	<head>
        <title>DISPO Truck Star</title>
        <meta http-equiv="CONTENT-TYPE" content="text/html" charset="UTF-8">
        <link rel="stylesheet" href="jquery.mobile-1.3.2.css"/>

        <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no"/>	
		<script src="jquery-1.9.1.min.js"></script>
        <script src="jquery.mobile-1.3.2.js"></script>
        
        <!-- weitere Scripts -->
        <script src="scripts/functions.js"></script>
        <script src="scripts/fillLocalStorage.js"></script>

        <!-- weitere Styles -->
        <link rel="stylesheet" href="styles/styles.css"/>

        <!-- Einstellungen zur Definition als WebApp -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    </head>

    <body id="documentBody" class="documentBody" onload="fillLocalStorage()">
        <div data-role="page" id="grundZustandSeitenId">
        
            <div data-role="header" data-position="fixed" id="grundZustandHeader" data-theme="a">
                Willkommen bei DISPOTruckStar
            </div>
            
            <div data-role="content" id="grundZustandInhalt">
                <a href="#startscreen" data-role="button" id="startButton" class="startAppButton" onclick="updateStartScreen()" data-theme="e" data-icon="arrow-r" data-iconpos="right">Start the app</a>
            </div>
            
            <div data-role="footer" id="grundZustandFooter" data-position="fixed" data-theme="c">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#helpPageId" id="linkToHelpPage" data-rel="dialog" data-role="button" data-icon="alert" data-theme="e">Kontakt</a></li>
                    </ul>
                </div>
            </div>
            
        </div>
        
        <div data-role="page" id="startscreen">
        

            <div data-role="header" data-theme="b">
                DISPO   [ R:<span id="indicator">unknown</span>, G:<span id="GPSIndicator">unknown</span> ]
            </div>

            <div data-role="content" id="startScreenContent">
                
				<div class="ui-grid-a">
					<div class="ui-block-a">Fahrzeugnummer</div>				
					<div class="ui-block-b"><b><span id="vehicleNumber">wird aus der DB ausgelesen</span></b></div>				
					<div class="ui-block-a">Funk</div>				
					<div class="ui-block-b"><b><span id="indicatorFunk">unknown</span></b></div>				
					<div class="ui-block-a">Offene Touren</div>				
					<div class="ui-block-b"><b><span id="anzahlTouren">(wird aus der DB ausgelesen)</span></b></div>				
					<div class="ui-block-a">Version</div>				
					<div class="ui-block-b"><b><span id="nightlyVersion">(kommt aus local storage)</span></b></div>				
					<div class="ui-block-a">Datum</div>				
					<div class="ui-block-b"><b><span id="currentDate"><script type="text/javascript">
									                            var today = new Date();
									                            var dd = today.getDate();
									                            var mm = today.getMonth()+1; //January is 0!
									
									                            var yyyy = today.getFullYear();
									                            if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = dd+'-'+mm+'-'+yyyy;
									                            document.write(today.toString());
				               	</script></span></b></div>				
				</div>
				
            </div>

            <div data-role="footer" data-position="fixed" data-theme="c">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#grundZustandSeitenId" data-role="button" data-icon="delete" data-theme="e">Beenden</a></li>
                        <li><a href="#meldungenPage" data-role="button" data-icon="info" data-theme="e" data-rel="dialog" data-transition="pop">Meldungen</a></li>
                        <li><a href="#anmeldeBildschirm" data-role="button" onclick="updateAnmeldeBildschirm()" data-icon="arrow-r" data-theme="e">Anmeldung</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div data-role="page" id="helpPageId">
        
            <div data-role="header" data-theme="e">
                <h1>Help</h1>
            </div>
            
            <div data-role="content">
                Für alle Fragen stehen wir Ihnen unter der folgenden Nummer gerne zu Verfügung:
                <div id="callNumber">+49 931/32235-0</div>
                <a href="#grundZustandSeitenId" rel="external" data-role="button" data-icon="back" data-theme="e">Zur Hauptseite</a>
            </div>
        </div>
        
        <div data-role="page" id="meldungenPage">
        
	        <div data-role="header" data-theme="e">
	            <h1>Meldungen</h1>
	        </div>
	        
	        <div data-role="content">
	            Hier erscheinen später die Anmerkungen zu der jeweiligen Tour
	            <a href="#startscreen" data-role="button" data-icon="back" data-theme="e">Zur DISPO Truck Star</a>
	        </div>
    	</div>
    	
       	<div data-role="page" id="anmeldeBildschirm">

            <div data-role="header" data-theme="b" data-position="fixed">
                DISPO   [ R:<span id="indicator">unknown</span>, G:<span id="GPSIndicator">unknown</span> ]
            </div>

            <div data-role="content" id="anmeldeBildschrimInhalt">

                <div data-role="fieldcontain">
                    <label for="FahrerAuswahl" class="select">Fahrer:</label>
                    <select name="FahrerAuswahl" id="FahrerAuswahl"></select> <!-- Die Auswahl wird hier mit JavaScript dynamisch hinzugefügt -->
                </div>

                <div data-role="fieldcontain" id="PINLabel">
    				<label for="password">PIN:</label>
    				<input type="password" name="password" id="password" value="" data-clear-btn="true" />
				</div>

                <div data-role="fieldcontain">
                    <label for="AufliegerAuswahl" class="select">Auflieger:</label>
                    <select name="AufliegerAuswahl" id="AufliegerAuswahl"></select> <!-- Die Auswahl wird hier mit JavaScript dynamisch hinzugefügt -->
                </div>

	            <div data-role="footer" id="anmeldeBildschirmFooter" data-position="fixed" data-theme="e" data-tap-toggle="false">
	                <div data-role="navbar">
	                    <ul>
	                        <li><a href="#startscreen" data-role="button" data-icon="back" data-theme="e" >Zum Start</a></li>
	                        <li><a href="#changePass"  data-role="button" onclick="prepareChangePassDialog()" data-rel="dialog" data-icon="refresh" data-theme="e">PIN ändern</a></li>
	                        <li><a data-role="button" id="zuDenTourenButton" onclick="setCurrentDriverDataAndMoveToTouren()" data-icon="arrow-r" data-theme="e">Touren</a></li>
	                    </ul>
	                </div>
	            </div>
            </div>
            
		</div>
            
		<div data-role="page" id="changePass">

            <div data-role="header" data-theme="e">
                <h3>PIN ändern</h3>
            </div>

            <div data-role="content">

                <div data-role="fieldcontain">
                    <label for="oldPassword">Altes Passwort:</label>
                    <input type="password" name="oldPassword" id="oldPassword" value=""  />
                </div>

                <div data-role="fieldcontain">
                    <label for="newPassword">Neues Passwort:</label>
                    <input type="password" name="newPassword" id="newPassword" value=""  />
                </div>

                <div data-role="fieldcontain">
                    <label for="confirmNewPassword">Wieder- <br>holung:</label>
                    <input type="password" name="confirmNewPassword" id="confirmNewPassword" value=""  />
                </div>

                <a href="#anmeldeBildschirm" data-role="button" id="cancelChangePass" data-theme="e" data-inline="true" data-mini="true" data-icon="delete" data-iconpos="top">Abbrechen</a>
                <div data-role="button" id="changePassword" onclick="changePassword()" data-inline="true" data-mini="true"
                                data-theme="b" data-icon="check" data-iconpos="top">Bestätigen</div>
            </div>

		</div>
		
		<div data-role="page" id="Touren">
		
			<div data-role="header" data-position="fixed" id="TourenHeader" data-theme="b">
				Touren für heute
			</div>
			
			<div data-role="content" id="TourenPageContent">
				<div data-role="controlgroup" id="TourenPageContentControlgroup">
					<a href="#Tour1Page" class="Tour1Link" data-role="button" onclick="setTourContent(1)" data-icon="arrow-r" data-iconpos="right" data-theme="e">Do 4771 - Donnerstag</a>
					<a href="#Tour2Page" class="Tour2Link" data-role="button" onclick="setTourContent(2)" data-icon="arrow-r" data-iconpos="right" data-theme="e">Do 4776 - Donnerstag</a>
				</div>
			</div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#anmeldeBildschirm" data-role="button" data-icon="back" data-theme="e" >Zur Anmeldung</a></li>
                        <li><a href="#" data-role="button" data-icon="alert" data-theme="e">Notiz</a></li>
                    </ul>
                </div>
            </div>
            	
		</div>
		
		<div data-role="page" id="Tour1Page">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Do 4771 - Donnerstag
			</div>
			
			<div data-role="content" id="Tour1PageContent"></div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#Touren" rel="external" data-role="button" data-icon="back" data-theme="e" >Zurück zu den Touren</a></li>
                    </ul>
                </div>
            </div>
            
		</div>
		
		<div data-role="page" id="Tour2Page">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Do 4776 - Donnerstag
			</div>
			
			<div data-role="content" id="Tour2PageContent"></div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#Touren" data-role="button" data-icon="back" data-iconpos="left" data-theme="e">Zurück zu den Touren</a></li>
                    </ul>
                </div>
            </div>
            
		</div>
		
		<div data-role="page" id="ProduktErfassungPage">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Produkterfassung
			</div>
			
			<div data-role="content">
			
				<div><b><span id="ProduktTypErfassung">unknown</span></b></div>
			
				<div data-role="fieldcontain">
		            <label for="Liter15Grad">Liter 15°C:</label>
		            <input type="number" min="0" max="36000" name="Liter15Grad" id="Liter15Grad" value="" placeholder="Liter 15°C" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Dichte">Dichte:</label>
		            <input type="number" step="0.01" min="500" max="1000" name="Dichte" id="Dichte" value="" placeholder="Dichte" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Nr">Nr.:</label>
		            <input type="number" name="Nr" id="Nr" value="" placeholder="Nummer des Ladescheins" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Liter">Liter:</label>
		            <input type="number" min="0" max="36000" name="Liter" id="Liter" value="" placeholder="Liter" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Kilo">Kilo:</label>
		            <input type="number" min="0" max="36000" name="Kilo" id="Kilo" value="" placeholder="Kilo" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Beginn">Beginn:</label>
		            <input type="datetime-local" name="Beginn" id="Beginn" value="" placeholder="Uhrzeit" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Ende">Ende:</label>
		            <input type="datetime-local" name="Ende" id="Ende" value="" placeholder="Uhrzeit" data-clear-btn="true"/>
	            </div>
	            
			</div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
				<div data-role="navbar">
					<ul id="ProduktErfassungPageFooter">
					</ul>
				</div>
			</div>
			
		</div>
			
		<div data-role="page" id="KundenLieferAuftraege">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Lieferstellen für diese Produkte
			</div>
			
			<div data-role="content">
				<div data-role="controlgroup" id="KundenLieferAuftraegePageContent"></div>
			</div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
				<div data-role="navbar">
					<ul id="KundenLieferAuftraegePageFooter">
						<li><a data-role="button" id="KundenLieferAuftraegePageFooterButton" data-icon="back" data-iconpos="left" data-theme="e">Zurück</a></li>
					</ul>
				</div>
			</div>
			
		</div>	
			
		
		
		<div data-role="page" id="ProduktAbladePage">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Produktabgabe
			</div>
			
			<div data-role="content">
			
				<div>Produkt:<b><span id="ProduktTypAbladung">unknown</span></b></div>
				
				<div data-role="fieldcontain">
		            <label for="Abgabemenge">Abgabemenge:</label>
		            <input type="number" min="0" max="36000" name="Abgabemenge" id="Abgabemenge" value="" placeholder="Abgabemenge" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Bonnummer">Bonnummer:</label>
		            <input type="number" name="Bonnummer" id="Bonnummer" value="" placeholder="Bonnummer" data-clear-btn="true"/>
	            </div>
	            
	            <div id="VorpeilungContainer"></div>
	            
	            <div data-role="fieldcontain">
		            <label for="Vorpeilung">Vorpeilung:</label>
		            <input type="number" name="Vorpeilung" id="Vorpeilung" value="" placeholder="Vorpeilung" data-clear-btn="true"/>
	            </div>
	            
	            <div id="GESAMTAngabe"></div> 
	            
	            <div id="NachpeilungUndPumpenstandContainer"> <!-- Dieser Container wird je nach Produktart ein- oder ausgeblendet -->
	            
	            	<div id="NachpeilungContainer"></div>
	            	
	            	<div data-role="fieldcontain">
			            <label for="NachpeilungVolume">Volume:</label>
			            <input type="number" name="NachpeilungVolume" id="NachpeilungVolume" value="" placeholder="Volume" data-clear-btn="true"/>
	            	</div>
	            	
	            	<div id="PumpenstandContainer"></div>
	            	
	            	<div data-role="fieldcontain">
			            <label for="PumpenstandVolume">Volume:</label>
			            <input type="number" name="PumpenstandVolume" id="PumpenstandVolume" value="" placeholder="Volume" data-clear-btn="true"/>
	            	</div>
	            	
	            </div>
				
			</div>
			
	<!--  		<div data-role="footer" data-position="fixed" data-theme="e">
				<div data-role="navbar">
					<ul id="ProduktAbladungPageFooter">
					</ul>
				</div>
			</div>	-->
			
		</div>
		
        
    </body>
</html>
