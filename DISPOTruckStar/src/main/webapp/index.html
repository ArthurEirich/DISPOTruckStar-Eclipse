<!DOCTYPE HTML>
<html lang="de-DE" manifest="DISPOTruckStar.manifest">
	<head>
        <title>DISPO Truck Star</title>
        <meta http-equiv="CONTENT-TYPE" content="text/html" charset="UTF-8">
        <link rel="stylesheet" href="jquery.mobile-1.3.2.css"/>

        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <!-- weitere Styles -->
        <link rel="stylesheet" href="styles/styles.css"/>

        <!-- Einstellungen zur Definition als WebApp -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    </head>

    <body id="documentBody" onload="fillLocalStorage()">
        <div data-role="page" id="grundZustandSeitenId">
        
            <div data-role="header" data-position="fixed" id="grundZustandHeader" data-theme="c">
                Willkommen bei DISPOTruckStar
            </div>
            
            <div data-role="content" id="grundZustandInhalt">
                <a href="#startscreen" data-role="button" id="startButton" onclick="updateStartScreen()" data-theme="e" data-icon="arrow-r" data-iconpos="right">Start the app</a>
            </div>
            
            <div data-role="footer" id="grundZustandFooter" data-position="fixed" data-theme="c">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#helpPageId" id="linkToHelpPage" data-rel="dialog" data-role="button" data-icon="alert" data-theme="e">Kontakt</a></li>
                    </ul>
                </div>
            </div>
            
        </div>
        
        <div data-role="page" id="startscreen">

            <div data-role="header" data-theme="b">
                DISPO   [ C:DisConnected,EventReset, M:x, R:<span id="indicator">(state unknown)</span>, G:<span id="GPSIndicator">(state unknown)</span> ]
            </div>

            <div data-role="content">
                <div>
                    <b>Fahrzeugnummer:    <span id="vehicleNumber">wird aus der DB ausgelesen</span></b>
                </div>

                <div>
                    <b>Funk:      <span id="indicatorFunk">(state unknown)</span></b>
                </div>

                <div>
                    <b>Anzahl offener Touren:  <span id="anzahlTouren">(wird aus der DB ausgelesen)</span></b>
                </div>

                <div>
                    <b>Version:    <span id="nightlyVersion">(kommt aus local storage)</span></b>
                </div>

                <div>
                    <b>Datum:
                        <script type="text/javascript">
                            var today = new Date();
                            var dd = today.getDate();
                            var mm = today.getMonth()+1; //January is 0!

                            var yyyy = today.getFullYear();
                            if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} today = dd+'-'+mm+'-'+yyyy;
                            document.write(today.toString());
                        </script>
                    </b>
                </div>
            </div>

            <div data-role="footer" data-position="fixed" data-theme="c">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#grundZustandSeitenId" rel="external" data-role="button" data-icon="delete" data-theme="e">Beenden</a></li>
                        <li><a href="#meldungenPage" rel="external" data-role="button" data-icon="info" data-theme="e" data-rel="dialog" data-transition="pop" >Meldungen</a></li>
                        <li><a href="#servicePage" rel="external" data-role="button" data-icon="gear" data-theme="e">Service</a></li>
                        <li><a href="#anmeldeBildschirm" rel="external" data-role="button" onclick="updateAnmeldeBildschirm()" data-icon="arrow-r" data-theme="e">Weiter zur Fahreranmeldung</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div data-role="page" id="helpPageId">
        
            <div data-role="header" data-theme="e">
                <h1>Help</h1>
            </div>
            
            <div data-role="content">
                Für alle Fragen stehen wir Ihnen unter der folgenden Nummer gerne zu Verfügung:
                <div id="callNumber">+49 931/32235-0</div>
                <a href="#grundZustandSeitenId" rel="external" data-role="button" data-icon="back" data-theme="e">Zurück zur Hauptseite</a>
            </div>
        </div>
        
        <div data-role="page" id="meldungenPage">
        
	        <div data-role="header" data-theme="e">
	            <h1>Meldungen</h1>
	        </div>
	        
	        <div data-role="content">
	            Hier erscheinen später die Anmerkungen zu der jeweiligen Tour
	            <a href="#startscreen" rel="external" data-role="button" data-icon="back" data-theme="e">Zurück zur DISPO Truck Star</a>
	        </div>
    	</div>
    	
    	<div data-role="page" id="servicePage">
    	
    		<div data-role="header" data-theme="e">
	            <h1>Service</h1>
	        </div>
	        
	        <div data-role="content">
				Wir bieten ausgezeichneten Service und Support!!!
				<a href="#startscreen" rel="external" data-role="button" data-icon="back" data-theme="e">Zurück zur DISPO Truck Star</a>
			</div>
        </div>
        
       	<div data-role="page" id="anmeldeBildschirm">

            <div data-role="header" data-theme="b" data-position="fixed">
                DISPO   [ C:DisConnected,EventReset, M:x, R:<span id="indicator">(state unknown)</span>, G:<span id="GPSIndicator">(state unknown)</span> ]
            </div>

            <div data-role="content">

                <div data-role="fieldcontain">
                    <h3><label for="FahrerAuswahl" class="select">Fahrer:</label></h3>
                    <select name="FahrerAuswahl" id="FahrerAuswahl"></select> <!-- Die Auswahl wird hier mit JavaScript dynamisch hinzugefügt -->
                </div>

                <div data-role="fieldcontain">
                    <h3><label for="password">PIN:</label></h3>
                    <input type="password" name="password" id="password" value="" data-clear-btn="true"/>
                </div>

                <div data-role="fieldcontain">
                    <h3><label for="AufliegerAuswahl" class="select">Auflieger:</label></h3>
                    <select name="AufliegerAuswahl" id="AufliegerAuswahl"></select> <!-- Die Auswahl wird hier mit JavaScript dynamisch hinzugefügt -->
                </div>

	            <div data-role="footer" data-position="fixed" data-theme="e">
	                <div data-role="navbar">
	                    <ul>
	                        <li><a href="#startscreen" data-role="button" data-icon="back" data-theme="e" >Zurück zum DISPO Truck Star</a></li>
	                        <li><a href="#changePass"  data-role="button" data-rel="dialog" data-icon="refresh" data-theme="e">PIN ändern</a></li>
	                        <li><a rel="external" data-role="button" id="anmeldeBildschirmConfirmButton" onclick="setCurrentDriverData()" data-icon="arrow-r" data-theme="e">Bestätigung und weiter zu den Touren</a></li>
	                    </ul>
	                </div>
	            </div>
            </div>
            
		</div>
            
		<div data-role="page" id="changePass">

            <div data-role="header" data-theme="e">
                <h1>Passwort ändern</h1>
            </div>

            <div data-role="content">

                <div data-role="fieldcontain">
                    <label for="oldPassword">Altes Passwort:</label>
                    <input type="password" name="oldPassword" id="oldPassword" value=""  />
                </div>

                <div data-role="fieldcontain">
                    <label for="newPassword">Neues Passwort:</label>
                    <input type="password" name="newPassword" id="newPassword" value=""  />
                </div>

                <div data-role="fieldcontain">
                    <label for="confirmNewPassword">Bestätigung:</label>
                    <input type="password" name="confirmNewPassword" id="confirmNewPassword" value=""  />
                </div>

                <a href="#anmeldeBildschirm" data-role="button" data-theme="e" data-inline="true" data-icon="delete">Abbrechen</a>
                <a data-role="button" id="changePassword" onclick="changePassword()" data-inline="true"
                                data-theme="c" data-icon="check" data-iconpos="right">Passwort ändern</a>
            </div>

		</div>
		
		<div data-role="page" id="Touren">
		
			<div data-role="header" data-position="fixed" id="TourenHeader" data-theme="b">
				Touren für heute
			</div>
			
			<div data-role="content" id="TourenPageContent">
				<div data-role="controlgroup" id="TourenPageContentControlgroup">
					<li><a href="#Tour1Page" data-role="button" onclick="setTourContent(1)" data-icon="arrow-r" data-iconpos="right" data-theme="e">Do 4771 - Donnerstag</a></li>
					<li><a href="#Tour2Page" data-role="button" onclick="setTourContent(2)" data-icon="arrow-r" data-iconpos="right" data-theme="e">Do 4776 - Donnerstag</a></li>
				</div>
			</div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#anmeldeBildschirm" rel="external" data-role="button" onclick="updateAnmeldebildschirm()" data-icon="back" data-theme="e" >Zurück zur Anmeldung</a></li>
                        <li><a href="#" rel="external" data-role="button" data-icon="alert" data-theme="e">Notiz</a></li>
                    </ul>
                </div>
            </div>
            	
		</div>
		
		<div data-role="page" id="Tour1Page">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Tour 1
			</div>
			
			<div data-role="content" id="Tour1PageContent"></div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#Touren" rel="external" data-role="button" data-icon="back" data-theme="e" >Zurück zu den Touren</a></li>
                    </ul>
                </div>
            </div>
            
		</div>
		
		<div data-role="page" id="Tour2Page">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Tour 2
			</div>
			
			<div data-role="content" id="Tour2PageContent"></div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#Touren" rel="external" data-role="button" data-icon="back" data-iconpos="left" data-theme="e">Zurück zu den Touren</a></li>
                    </ul>
                </div>
            </div>
            
		</div>
		
		<div data-role="page" id="ProduktErfassungPage">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Produkterfassung
			</div>
			
			<div data-role="content">
			
				<div>Produkt:<b><span id="ProduktTypErfassung">unknown</span></b></div>
			
				<div data-role="fieldcontain">
		            <label for="Liter15Grad">Liter 15°C:</label>
		            <input type="number" min="0" max="36000" name="Liter15Grad" id="Liter15Grad" value="" placeholder="Liter 15°C" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Dichte">Dichte:</label>
		            <input type="number" min="500" max="1000" name="Dichte" id="Dichte" value="" placeholder="Dichte" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Nr">Nr.:</label>
		            <input type="number" name="Nr" id="Nr" value="" placeholder="Nummer des Ladenscheins" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Liter">Liter:</label>
		            <input type="number" min="0" max="36000" name="Liter" id="Liter" value="" placeholder="Liter" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Kilo">Kilo:</label>
		            <input type="number" min="0" max="36000" name="Kilo" id="Kilo" value="" placeholder="Kilo" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Beginn">Beginn:</label>
		            <input type="datetime-local" name="Beginn" id="Beginn" value="" placeholder="Uhrzeit" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Ende">Ende:</label>
		            <input type="datetime-local" name="Ende" id="Ende" value="" placeholder="Uhrzeit" data-clear-btn="true"/>
	            </div>
	            
			</div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
				<div data-role="navbar">
					<ul id="ProduktErfassungPageFooter">
					</ul>
				</div>
			</div>
			
		</div>
			
		<div data-role="page" id="KundenLieferAuftraege">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Lieferstellen für diese Produkte
			</div>
			
			<div data-role="content" id="KundenLieferAuftraegePageContent"></div>
			
			<div data-role="footer" data-position="fixed" data-theme="e">
				<div data-role="navbar">
					<ul id="KundenLieferAuftraegePageFooter">
					</ul>
				</div>
			</div>
			
		</div>	
			
		
		
		<div data-role="page" id="ProduktAbladePage">
		
			<div data-role="header" data-position="fixed" data-theme="b">
				Produktabgabe
			</div>
			
			<div data-role="content">
			
				<div>Produkt:<b><span id="ProduktTypAbladung">unknown</span></b></div>
				
				<div data-role="fieldcontain">
		            <label for="Abgabemenge">Abgabemenge:</label>
		            <input type="number" min="0" max="36000" name="Abgabemenge" id="Abgabemenge" value="" placeholder="Abgabemenge" data-clear-btn="true"/>
	            </div>
	            
	            <div data-role="fieldcontain">
		            <label for="Bonnummer">Bonnummer:</label>
		            <input type="number" name="Bonnummer" id="Bonnummer" value="" placeholder="Bonnummer" data-clear-btn="true"/>
	            </div>
	            
	            <div id="VorpeilungContainer"></div>
	            
	            <div data-role="fieldcontain">
		            <label for="Vorpeilung">Vorpeilung:</label>
		            <input type="number" name="Vorpeilung" id="Vorpeilung" value="" placeholder="Vorpeilung" data-clear-btn="true"/>
	            </div>
	            
	            <div id="GESAMTAngabe"></div> 
	            
	            <div id="NachpeilungUndPumpenstandContainer"> <!-- Dieser Container wird je nach Produktart ein- oder ausgeblendet -->
	            
	            	<div id="NachpeilungContainer"></div>
	            	
	            	<div data-role="fieldcontain">
			            <label for="NachpeilungVolume">Volume:</label>
			            <input type="number" name="NachpeilungVolume" id="NachpeilungVolume" value="" placeholder="Volume" data-clear-btn="true"/>
	            	</div>
	            	
	            	<div id="PumpenstandContainer"></div>
	            	
	            	<div data-role="fieldcontain">
			            <label for="PumpenstandVolume">Volume:</label>
			            <input type="number" name="PumpenstandVolume" id="PumpenstandVolume" value="" placeholder="Volume" data-clear-btn="true"/>
	            	</div>
	            	
	            </div>
				
			</div>
			
	<!--  		<div data-role="footer" data-position="fixed" data-theme="e">
				<div data-role="navbar">
					<ul id="ProduktAbladungPageFooter">
					</ul>
				</div>
			</div>	-->
			
		</div>
		
		<script src="jquery-1.9.1.min.js"></script>
        <script src="jquery.mobile-1.3.2.js"></script>
        
        <!-- weitere Scripts -->
        <script src="scripts/functions.js"></script>
        <script src="scripts/fillLocalStorage.js"></script>
        
    </body>
</html>
